"use strict";(self.webpackChunkincoming_tool=self.webpackChunkincoming_tool||[]).push([[940],{1453:(e,t,i)=>{i.d(t,{A:()=>n});var s=i(8613),l=i(579);const n=e=>{let{item:t,onSubmit:i,onClose:n}=e;const[r,o]=(0,s.useState)(""),[d,a]=(0,s.useState)("");return(0,l.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50},onClick:n,children:(0,l.jsxs)("div",{style:{backgroundColor:"white",padding:"20px 30px",borderRadius:"8px",border:"1px solid #ccc",maxWidth:"500px",width:"90%",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("h3",{children:"Add Issue Update for:"}),(0,l.jsxs)("p",{style:{margin:"5px 0 15px 0",fontStyle:"italic"},children:[t.productName," - ",t.deliveryName]}),t.issueDescription&&(0,l.jsxs)("div",{style:{marginBottom:"15px",padding:"10px",background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"4px"},children:[(0,l.jsx)("strong",{children:"Initial Issue:"})," ",t.issueDescription]}),(0,l.jsx)("label",{htmlFor:"updateNote",style:{fontWeight:"bold"},children:"Update Note:"}),(0,l.jsx)("textarea",{id:"updateNote",value:r,onChange:e=>{o(e.target.value),d&&a("")},style:{width:"calc(100% - 16px)",padding:"8px",minHeight:"80px",marginTop:"5px"},rows:4,placeholder:"e.g., Contacted seller, awaiting response..."}),d&&(0,l.jsx)("div",{style:{color:"red",fontSize:"0.8em",marginTop:"4px"},children:d}),(0,l.jsxs)("div",{style:{marginTop:"20px",textAlign:"right"},children:[(0,l.jsx)("button",{type:"button",onClick:n,style:{marginRight:"10px",padding:"8px 15px"},children:"Cancel"}),(0,l.jsx)("button",{type:"button",onClick:()=>{r.trim()?i(r):a("Please enter an update note.")},style:{padding:"8px 15px",fontWeight:"bold"},children:"Save Update Note"})]})]})})}},2630:(e,t,i)=>{i.d(t,{A:()=>r});var s=i(8613),l=i(579);const n=["Item Accepted / Kept As Is","Item Repaired / Refurbished","Partial Refund Received","Returned to Supplier","Disposed Of","Other"],r=e=>{let{item:t,onSubmit:i,onClose:r}=e;const[o,d]=(0,s.useState)(""),[a,c]=(0,s.useState)(""),[u,p]=(0,s.useState)(""),x={marginBottom:"15px"},h={display:"block",marginBottom:"5px",fontWeight:"bold"},g={width:"calc(100% - 16px)",padding:"8px"};return(0,l.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50},onClick:r,children:(0,l.jsxs)("div",{style:{backgroundColor:"white",padding:"20px 30px",borderRadius:"8px",border:"1px solid #ccc",maxWidth:"500px",width:"90%",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("h3",{children:"Resolve Issue for:"}),(0,l.jsxs)("p",{style:{margin:"5px 0 15px 0",fontStyle:"italic"},children:[t.productName," - ",t.deliveryName]}),t.issueDescription&&(0,l.jsxs)("div",{style:{marginBottom:"15px",padding:"10px",background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"4px"},children:[(0,l.jsx)("strong",{children:"Initial Issue:"})," ",t.issueDescription]}),(0,l.jsxs)("div",{style:x,children:[(0,l.jsx)("label",{htmlFor:"resolutionOutcome",style:h,children:"Resolution Outcome:"}),(0,l.jsxs)("select",{id:"resolutionOutcome",value:o,onChange:e=>{d(e.target.value),u&&p("")},style:g,children:[(0,l.jsx)("option",{value:"",disabled:!0,children:"-- Select an Outcome --"}),n.map((e=>(0,l.jsx)("option",{value:e,children:e},e)))]}),u&&(0,l.jsx)("div",{style:{color:"red",fontSize:"0.8em",marginTop:"4px"},children:u})]}),(0,l.jsxs)("div",{style:x,children:[(0,l.jsx)("label",{htmlFor:"resolutionNotes",style:h,children:"Resolution Notes (Optional):"}),(0,l.jsx)("textarea",{id:"resolutionNotes",value:a,onChange:e=>c(e.target.value),style:{...g,minHeight:"60px"},rows:3,placeholder:"e.g., Supplier issued refund, repaired screen..."})]}),(0,l.jsxs)("div",{style:{marginTop:"20px",textAlign:"right"},children:[(0,l.jsx)("button",{type:"button",onClick:r,style:{marginRight:"10px",padding:"8px 15px"},children:"Cancel"}),(0,l.jsx)("button",{type:"button",onClick:()=>{o?i(o,a.trim()||void 0):p("Please select a resolution outcome.")},style:{padding:"8px 15px",fontWeight:"bold"},children:"Save Resolution"})]})]})})}},3368:(e,t,i)=>{i.d(t,{A:()=>r});var s=i(8613),l=i(579);const n=e=>{let{text:t}=e;return(0,l.jsx)("span",{title:t,style:{cursor:"help",marginLeft:"4px",borderBottom:"1px dotted gray"},children:"?"})},r=e=>{let{onSave:t,onClose:i,initialData:r,firstInputRef:o}=e;const d=!!r,[a,c]=(0,s.useState)((null===r||void 0===r?void 0:r.purchaseStatus)||"Purchased"),[u,p]=(0,s.useState)((null===r||void 0===r?void 0:r.deliveryName)||""),[x,h]=(0,s.useState)((null===r||void 0===r?void 0:r.productName)||""),[g,m]=(0,s.useState)((null===r||void 0===r?void 0:r.quantity)||""),[v,y]=(0,s.useState)((null===r||void 0===r?void 0:r.pricePerItem)||""),[b,f]=(0,s.useState)((null===r||void 0===r?void 0:r.orderNumber)||""),[j,S]=(0,s.useState)((()=>(null===r||void 0===r?void 0:r.orderDate)||(new Date).toISOString().split("T")[0])),[C,k]=(0,s.useState)((null===r||void 0===r?void 0:r.seller)||""),[I,D]=(0,s.useState)((null===r||void 0===r?void 0:r.isVatRegistered)||"Unknown"),[A,w]=(0,s.useState)((null===r||void 0===r?void 0:r.destination)||""),[N,E]=(0,s.useState)((null===r||void 0===r?void 0:r.asinSku)||""),[R,F]=(0,s.useState)((null===r||void 0===r?void 0:r.acquisitionNotes)||""),[P,T]=(0,s.useState)((null===r||void 0===r?void 0:r.isFlagged)||!1),[O,L]=(0,s.useState)({});(0,s.useEffect)((()=>{r&&(c(r.purchaseStatus||"Purchased"),p(r.deliveryName||""),h(r.productName||""),m(r.quantity||""),y(r.pricePerItem||""),f(r.orderNumber||""),S(r.orderDate||(new Date).toISOString().split("T")[0]),k(r.seller||""),D(r.isVatRegistered||"Unknown"),w(r.destination||""),E(r.asinSku||""),F(r.acquisitionNotes||""),T(r.isFlagged||!1),L({}))}),[r]);const U={marginBottom:"15px"},$={display:"block",marginBottom:"5px",fontWeight:"bold"},B={width:"calc(100% - 16px)",padding:"8px"},q={color:"red",fontSize:"0.8em",marginTop:"4px"};return(0,l.jsxs)("div",{style:{backgroundColor:"white",padding:"20px",border:"1px solid #ccc",borderRadius:"8px",maxWidth:"500px",margin:"20px auto"},children:[" ",(0,l.jsx)("h3",{children:d?"Edit Stock Item":"Add New Stock Item"}),(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log("AddItemForm: handleSubmit",{deliveryName:u,productName:x,quantity:g,pricePerItem:v,orderDate:j,seller:C,destination:A,acquisitionNotes:R,isFlagged:P});const i=(()=>{const e={};return u.trim()||(e.deliveryName="Delivery Name is required."),x.trim()||(e.productName="Product Name is required."),(""===g||g<=0)&&(e.quantity="Quantity must be a positive number."),(""===v||v<0)&&(e.pricePerItem="Price must be zero or positive."),j||(e.orderDate="Order Date is required."),L(e),0===Object.keys(e).length})();console.log("AddItemForm: validation result",i,O),i?(console.log("AddItemForm: form valid, calling onSave"),t({purchaseStatus:a,deliveryName:u,productName:x,quantity:Number(g),pricePerItem:Number(v),orderNumber:b||void 0,orderDate:j,seller:C||void 0,isVatRegistered:"Unknown"===I?void 0:I,destination:A||void 0,asinSku:N||void 0,acquisitionNotes:R||void 0,isFlagged:P})):console.log("AddItemForm: form invalid, errors:",O)},children:[(0,l.jsxs)("div",{style:U,children:[(0,l.jsxs)("label",{style:$,htmlFor:"deliveryName",children:["Delivery Name",(0,l.jsx)(n,{text:"Group items arriving together with a unique name. Helps find them later. Example: eBay Batch Apr 16"})]}),(0,l.jsx)("input",{ref:o,id:"deliveryName",type:"text",value:u,onChange:e=>p(e.target.value),style:B}),O.deliveryName&&(0,l.jsx)("div",{style:q,children:O.deliveryName})]}),(0,l.jsxs)("div",{style:U,children:[(0,l.jsxs)("label",{style:$,htmlFor:"productName",children:["Product Name",(0,l.jsx)(n,{text:"The common name of the item. Example: Blue Widget Model X"})]}),(0,l.jsx)("input",{id:"productName",type:"text",value:x,onChange:e=>h(e.target.value),style:B}),O.productName&&(0,l.jsx)("div",{style:q,children:O.productName})]}),(0,l.jsxs)("div",{style:U,children:[(0,l.jsxs)("label",{style:$,htmlFor:"quantity",children:["Quantity",(0,l.jsx)(n,{text:"How many units of this item are included? Example: 50"})]}),(0,l.jsx)("input",{id:"quantity",type:"number",value:g,onChange:e=>m(""===e.target.value?"":Number(e.target.value)),style:B,min:"1"}),O.quantity&&(0,l.jsx)("div",{style:q,children:O.quantity})]}),(0,l.jsxs)("div",{style:U,children:[(0,l.jsxs)("label",{style:$,htmlFor:"pricePerItem",children:["Price Per Item",(0,l.jsx)(n,{text:"The cost for one single unit. Example: 12.50"})]}),(0,l.jsx)("input",{id:"pricePerItem",type:"number",value:v,onChange:e=>y(""===e.target.value?"":Number(e.target.value)),style:B,min:"0",step:"0.01"}),O.pricePerItem&&(0,l.jsx)("div",{style:q,children:O.pricePerItem})]}),(0,l.jsxs)("div",{style:U,children:[(0,l.jsxs)("label",{style:$,htmlFor:"orderDate",children:["Order Date",(0,l.jsx)(n,{text:"The date the item was purchased or the return initiated."})]}),(0,l.jsx)("input",{id:"orderDate",type:"date",value:j,onChange:e=>S(e.target.value),style:B}),O.orderDate&&(0,l.jsx)("div",{style:q,children:O.orderDate})]}),(0,l.jsxs)("div",{style:U,children:[(0,l.jsxs)("label",{style:$,htmlFor:"purchaseStatus",children:["Purchase Status",(0,l.jsx)(n,{text:"What is the origin of this item?"})]}),(0,l.jsxs)("select",{id:"purchaseStatus",value:a,onChange:e=>c(e.target.value),style:B,children:[(0,l.jsx)("option",{value:"Purchased",children:"Purchased"}),(0,l.jsx)("option",{value:"Ordered",children:"Ordered"}),(0,l.jsx)("option",{value:"Return Expected",children:"Return Expected"})]})]}),(0,l.jsxs)("div",{style:U,children:[(0,l.jsxs)("label",{style:$,htmlFor:"orderNumber",children:["Order Number",(0,l.jsx)(n,{text:"Optional: External reference like eBay order ID or PO number. Example: 12-34567-89012"})]}),(0,l.jsx)("input",{id:"orderNumber",type:"text",value:b,onChange:e=>f(e.target.value),style:B})]}),(0,l.jsxs)("div",{style:U,children:[(0,l.jsxs)("label",{style:$,htmlFor:"seller",children:["Seller / Source",(0,l.jsx)(n,{text:"Optional: Who did this item come from? Example: ebay_seller_123 or Customer Name (Return)"})]}),(0,l.jsx)("input",{id:"seller",type:"text",value:C,onChange:e=>k(e.target.value),style:B})]}),(0,l.jsxs)("div",{style:U,children:[(0,l.jsxs)("label",{style:$,htmlFor:"isVatRegistered",children:["Seller VAT Registered?",(0,l.jsx)(n,{text:"Optional: Is the seller registered for VAT?"})]}),(0,l.jsxs)("select",{id:"isVatRegistered",value:I,onChange:e=>D(e.target.value),style:B,children:[(0,l.jsx)("option",{value:"Unknown",children:"Unknown"}),(0,l.jsx)("option",{value:"Yes",children:"Yes"}),(0,l.jsx)("option",{value:"No",children:"No"})]})]}),(0,l.jsxs)("div",{style:U,children:[(0,l.jsxs)("label",{style:$,htmlFor:"destination",children:["Planned Destination",(0,l.jsx)(n,{text:"Optional: Where is this item intended to go after processing? Example: FBA Prep"})]}),(0,l.jsxs)("select",{value:["FBA Prep","Local Stock Shelf A","Refurbish Pile","Return to Supplier"].includes(A)?A:"Other",onChange:e=>{"Other"===e.target.value?w(""):w(e.target.value)},style:{...B,width:"auto",marginRight:"10px"},children:[(0,l.jsx)("option",{value:"FBA Prep",children:"FBA Prep"}),(0,l.jsx)("option",{value:"Local Stock Shelf A",children:"Local Stock Shelf A"}),(0,l.jsx)("option",{value:"Refurbish Pile",children:"Refurbish Pile"}),(0,l.jsx)("option",{value:"Return to Supplier",children:"Return to Supplier"}),(0,l.jsx)("option",{value:"Other",children:"Other (Specify Below)"})]}),(0,l.jsx)("input",{type:"text",placeholder:"Specify destination...",value:A,onChange:e=>w(e.target.value),style:{...B,width:"calc(50% - 26px)"}})]}),(0,l.jsxs)("div",{style:U,children:[(0,l.jsxs)("label",{style:$,htmlFor:"asinSku",children:["ASIN / SKU",(0,l.jsx)(n,{text:"Optional: Amazon ASIN or internal SKU. Helps link inventory. Example: B0C1EXAMPLE / BLUE-WIDGET-XL"})]}),(0,l.jsx)("input",{id:"asinSku",type:"text",value:N,onChange:e=>E(e.target.value),style:B})]}),(0,l.jsxs)("div",{style:U,children:[(0,l.jsxs)("label",{style:$,htmlFor:"acquisitionNotes",children:["Acquisition Notes",(0,l.jsx)(n,{text:"Optional: Any specific notes from the purchase, order, or return request. Example: Seller mentioned slight scratch."})]}),(0,l.jsx)("textarea",{id:"acquisitionNotes",value:R,onChange:e=>F(e.target.value),style:{...B,height:"60px"}})]}),(0,l.jsxs)("div",{style:{...U,display:"flex",alignItems:"center"},children:[(0,l.jsx)("input",{type:"checkbox",id:"isFlagged",checked:P,onChange:e=>T(e.target.checked),style:{marginRight:"10px"}}),(0,l.jsxs)("label",{htmlFor:"isFlagged",style:{fontWeight:"normal"},children:[" ","Flag this item for follow-up",(0,l.jsx)(n,{text:"Check this box to mark the item with a flag for easy filtering later."})]})]}),(0,l.jsxs)("div",{style:{marginTop:"20px",textAlign:"right"},children:[(0,l.jsx)("button",{type:"button",onClick:i,style:{marginRight:"10px",padding:"8px 15px"},children:"Cancel"}),(0,l.jsx)("button",{type:"submit",style:{padding:"8px 15px",fontWeight:"bold"},children:d?"Update Item":"Save Item"})]})]})]})}},3691:(e,t,i)=>{i.d(t,{A:()=>r});i(8613);var s=i(579);const l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return void 0===e||null===e||""===e?(0,s.jsx)("span",{style:{color:"#888"},children:"N/A"}):`${t}${e}${i}`},n=e=>{var t;const i=new Date(e.timestamp).toLocaleString();switch(e.type){case"CREATED":return`${i}: Item Created`;case"EDITED":return`${i}: Item Edited (${(null===(t=e.details.changedFields)||void 0===t?void 0:t.join(", "))||"details"} changed)`;case"STATUS_CHANGED":return`${i}: Status changed from ${e.details.previousStatus||"?"} to ${e.details.newStatus||"?"}`;case"FLAG_TOGGLED":return`${i}: Item ${e.details.isFlagged?"Flagged":"Unflagged"}`;case"ISSUE_REPORTED":return`${i}: Issue Reported: ${e.details.issueDescription||""}`;case"ISSUE_UPDATE_ADDED":return`${i}: Issue Update Added: ${e.details.note||""}`;case"ISSUE_RESOLVED":return`${i}: Issue Resolved (Outcome: ${e.details.resolutionOutcome||"N/A"}${e.details.note?` - Note: ${e.details.note}`:""}`;case"NOTE_ADDED":return`${i}: Note Added: ${e.details.note||""}`;default:return`${i}: Unknown action`}},r=e=>{let{item:t,onClose:i,closeButtonRef:r}=e;const o={marginBottom:"10px",paddingBottom:"10px",borderBottom:"1px solid #eee"},d={fontWeight:"bold",display:"inline-block",minWidth:"150px",marginRight:"10px"},a={marginBottom:"8px",paddingBottom:"8px",borderBottom:"1px dashed #eee",fontSize:"0.9em"};return(0,s.jsxs)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:30},onClick:i,children:[" ",(0,s.jsxs)("div",{style:{backgroundColor:"white",padding:"20px 30px",border:"1px solid #ccc",borderRadius:"8px",maxWidth:"600px",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},onClick:e=>e.stopPropagation(),children:[" ",(0,s.jsxs)("h3",{children:["Item Details: ",t.productName," - ",t.deliveryName]}),(0,s.jsxs)("div",{style:o,children:[(0,s.jsx)("span",{style:d,children:"ID:"})," ",t.id]}),(0,s.jsxs)("div",{style:o,children:[(0,s.jsx)("span",{style:d,children:"Status:"})," ",t.currentStatus]}),(0,s.jsxs)("div",{style:o,children:[(0,s.jsx)("span",{style:d,children:"Product Name:"})," ",t.productName]}),(0,s.jsxs)("div",{style:o,children:[(0,s.jsx)("span",{style:d,children:"Delivery Name:"})," ",t.deliveryName]}),(0,s.jsxs)("div",{style:o,children:[(0,s.jsx)("span",{style:d,children:"Quantity:"})," ",t.quantity]}),(0,s.jsxs)("div",{style:o,children:[(0,s.jsx)("span",{style:d,children:"Price Per Item:"})," ",l(t.pricePerItem,"\xa3")]}),(0,s.jsxs)("div",{style:o,children:[(0,s.jsx)("span",{style:d,children:"Order Date:"})," ",t.orderDate]}),(0,s.jsxs)("div",{style:o,children:[(0,s.jsx)("span",{style:d,children:"Purchase Status:"})," ",l(t.purchaseStatus)]}),(0,s.jsxs)("div",{style:o,children:[(0,s.jsx)("span",{style:d,children:"Order Number:"})," ",l(t.orderNumber)]}),(0,s.jsxs)("div",{style:o,children:[(0,s.jsx)("span",{style:d,children:"Seller / Source:"})," ",l(t.seller)]}),(0,s.jsxs)("div",{style:o,children:[(0,s.jsx)("span",{style:d,children:"Seller VAT Reg?:"})," ",l(t.isVatRegistered)]}),(0,s.jsxs)("div",{style:o,children:[(0,s.jsx)("span",{style:d,children:"Planned Destination:"})," ",l(t.destination)]}),(0,s.jsxs)("div",{style:o,children:[(0,s.jsx)("span",{style:d,children:"ASIN / SKU:"})," ",l(t.asinSku)]}),(0,s.jsxs)("div",{style:o,children:[(0,s.jsx)("span",{style:d,children:"Acquisition Notes:"})," ",l(t.acquisitionNotes)]}),(0,s.jsxs)("div",{style:o,children:[(0,s.jsx)("span",{style:d,children:"Date Delivered:"})," ",l(t.dateDelivered?new Date(t.dateDelivered).toLocaleString():void 0)]}),(0,s.jsxs)("div",{style:o,children:[(0,s.jsx)("span",{style:d,children:"Processor Notes:"})," ",l(t.processorNotes)]}),(0,s.jsxs)("div",{style:{...o,borderBottom:"none"},children:[" ",(0,s.jsx)("span",{style:d,children:"Issue Description:"})," ",l(t.issueDescription)]}),t.activityLog&&t.activityLog.length>0&&(0,s.jsxs)("div",{style:{marginTop:"20px",paddingTop:"15px",borderTop:"1px solid #ccc"},children:[(0,s.jsx)("h4",{children:"History / Activity Log"}),[...t.activityLog].reverse().map(((e,t)=>(0,s.jsx)("div",{style:a,children:n(e)},`${e.timestamp}-${t}`)))]}),(0,s.jsx)("div",{style:{marginTop:"20px",textAlign:"right"},children:(0,s.jsx)("button",{ref:r,onClick:i,style:{padding:"8px 15px",fontWeight:"bold"},children:"Close"})})]})]})}},5929:(e,t,i)=>{i.r(t),i.d(t,{default:()=>L});var s=i(7064),l=i(3997),n=i(9550),r=i(8613),o=i(4705),d=i(8677),a=i(2789),c=i(3368),u=i(3691),p=i(5982),x=i(1453),h=i(2630),g=i(7694),m=i(579);function v(e){return Object.fromEntries(Object.entries(e).filter((e=>{let[t,i]=e;return void 0!==i})))}const y=e=>{let{onSearch:t,inputRef:i}=e;return(0,m.jsx)("input",{ref:i,type:"text",placeholder:"Search by Delivery Name or Product Name...",onChange:e=>t(e.target.value),style:{marginBottom:"1rem",padding:"0.5rem",width:"100%"}})},b=e=>{let{currentFilter:t,onFilterChange:i}=e;return(0,m.jsx)("div",{style:{marginBottom:"1rem"},children:["All","Pending Delivery","Delivered","Issue","Late","Archived"].map((e=>(0,m.jsx)("button",{onClick:()=>i(e),style:{fontWeight:t===e?"bold":"normal",marginRight:"0.5rem",padding:"0.5rem"},children:e},e)))})},f=e=>{if("Pending Delivery"!==e.currentStatus)return!1;const t=new Date(e.orderDate),i=new Date;return i.setDate(i.getDate()-7),t<i},j=(e,t,i)=>{const s=i?{borderLeft:"3px solid red"}:{};let l={};if("Pending Delivery"===e&&t)l={backgroundColor:"#cce5ff",color:"#004085"};else switch(e){case"Pending Delivery":l={backgroundColor:"#fff3cd",color:"#856404"};break;case"Delivered":l={backgroundColor:"#d4edda",color:"#155724"};break;case"Issue":l={backgroundColor:"#f8d7da",color:"#721c24"};break;case"Archived":l={backgroundColor:"#e2e3e5",color:"#383d41"};break;default:l={}}return{...l,...s}},S=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{timestamp:(new Date).toISOString(),type:t,userId:e,details:i}},C=(e,t)=>{let i=[];switch(e){case"Pending Delivery":case"Late":i=["Mark as Delivered","Report Issue","View Details","Edit Item"];break;case"Delivered":i=["Archive","Report Issue","View Details","Edit Item"];break;case"Issue":i=["Resolve Issue","Add Issue Update","Archive","View Details","Edit Item"];break;default:i=["View Details"]}return"Archived"!==e&&i.unshift(t?"Unflag Item":"Flag Item"),i},k=e=>{let{itemId:t,actions:i,onActionSelected:s,onClose:l}=e;const n=(0,r.useRef)(null);return(0,r.useEffect)((()=>{const e=e=>{n.current&&!n.current.contains(e.target)&&l()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[l]),(0,m.jsx)("div",{ref:n,style:{position:"absolute",backgroundColor:"white",border:"1px solid #ccc",borderRadius:"4px",boxShadow:"0 2px 5px rgba(0,0,0,0.15)",zIndex:10,minWidth:"150px",marginTop:"2px"},children:i.map((e=>(0,m.jsx)("button",{onClick:()=>s(t,e),style:{display:"block",width:"100%",padding:"8px 12px",border:"none",background:"none",textAlign:"left",cursor:"pointer"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#f0f0f0",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:e},e)))})},I=[{id:"orderDate",label:"Order Date"},{id:"quantity",label:"Qty"},{id:"productName",label:"Product Name"},{id:"deliveryName",label:"Delivery Name"},{id:"pricePerItem",label:"Price/Item"},{id:"seller",label:"Seller/Source"},{id:"destination",label:"Destination"},{id:"asinSku",label:"ASIN/SKU"},{id:"purchaseStatus",label:"Purchase Status"},{id:"orderNumber",label:"Order #"},{id:"currentStatus",label:"Status"},{id:"isFlagged",label:"Flagged"},{id:"acquisitionNotes",label:"Acquisition Notes"},{id:"issueDescription",label:"Issue Description"},{id:"dateDelivered",label:"Date Delivered"},{id:"actions",label:"Actions"}],D=["orderDate","quantity","productName","deliveryName","currentStatus","actions"],A="incomingTool_visibleColumns",w=e=>{let{col:t}=e;const{attributes:i,listeners:s,setNodeRef:l,transform:n,transition:r,isDragging:o}=(0,d.gl)({id:t.id}),c={transform:a.Ks.Translate.toString(n),transition:r,opacity:o?.8:1,zIndex:o?10:1,cursor:"move",border:"1px solid #ccc",padding:"8px",textAlign:"actions"===t.id?"center":"left",backgroundColor:o?"#e0e0e0":"#f2f2f2"};return(0,m.jsx)("th",{ref:l,style:c,...i,...s,children:t.label})},N=e=>{let{items:t,visibleColumns:i,onActionSelected:s,onViewDetails:l,onColumnReorder:n,selectedRowIndex:a=-1}=e;const[c,u]=(0,r.useState)(null),p=(0,o.FR)((0,o.MS)(o.AN),(0,o.MS)(o.uN,{coordinateGetter:d.JR})),x=()=>{u(null)},h=(e,t)=>{"View Details"===t?l(e):s(e,t),x()},g=(e,t)=>{const i=e=>"string"===typeof e||"number"===typeof e?e:"boolean"===typeof e?e?"Yes":"No":"-";switch(t){case"isFlagged":return(0,m.jsx)("td",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center"},children:e.isFlagged?"\ud83d\udea9":""},t);case"actions":return(0,m.jsxs)("td",{style:{border:"1px solid #ccc",padding:"0px",textAlign:"center",position:"relative"},onClick:e=>e.stopPropagation(),children:["Archived"!==e.currentStatus&&(0,m.jsx)("button",{style:{cursor:"pointer",border:"none",background:"none",fontSize:"1.2em",padding:"8px"},title:"Actions",onClick:t=>{var i;t.stopPropagation(),i=e.id,u((e=>e===i?null:i))},children:"\u22ee"}),c===e.id&&(0,m.jsx)(k,{itemId:e.id,actions:C(e.currentStatus,e.isFlagged),onActionSelected:h,onClose:x})]},"actions");case"currentStatus":const s=f(e);return(0,m.jsx)("td",{style:{border:"1px solid #ccc",padding:"8px",...j(e.currentStatus,s,e.isFlagged)},onClick:e=>e.stopPropagation(),children:e.currentStatus},t);case"quantity":case"pricePerItem":const l=e[t];return(0,m.jsx)("td",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"right"},children:"number"===typeof l?l:"-"},t);case"dateDelivered":case"orderDate":const n=e[t],r="string"===typeof n&&n?new Date(n).toLocaleDateString():"-";return(0,m.jsx)("td",{style:{border:"1px solid #ccc",padding:"8px"},children:r},t);case"acquisitionNotes":case"issueDescription":const o=e[t];return(0,m.jsx)("td",{style:{border:"1px solid #ccc",padding:"8px"},children:"string"===typeof o?i(o):"-"},t);case"productName":case"deliveryName":case"seller":case"destination":case"asinSku":case"purchaseStatus":case"orderNumber":return(0,m.jsx)("td",{style:{border:"1px solid #ccc",padding:"8px"},children:i(e[t])},t);default:return console.warn("Unhandled column ID in renderCellContent:",t),(0,m.jsx)("td",{style:{border:"1px solid #ccc",padding:"8px"},children:"???"},t)}};return(0,m.jsxs)("div",{children:[(0,m.jsx)("h4",{children:"Stock & Processing List"}),(0,m.jsx)(o.Mp,{sensors:p,collisionDetection:o.fp,onDragEnd:n,children:(0,m.jsx)(d.gB,{items:i.map((e=>e.id)),strategy:d.m$,children:(0,m.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",border:"1px solid #ccc"},children:[(0,m.jsx)("thead",{children:(0,m.jsx)("tr",{style:{backgroundColor:"#f2f2f2"},children:i.map((e=>(0,m.jsx)(w,{col:e},e.id)))})}),(0,m.jsx)("tbody",{children:t.length>0?t.map(((e,t)=>{const s=t===a;return(0,m.jsx)("tr",{style:s?{background:"#e3f0ff",outline:"2px solid #1976d2"}:{},children:i.map((t=>g(e,t.id)))},e.id)})):(0,m.jsx)("tr",{children:(0,m.jsx)("td",{colSpan:i.length,style:{border:"1px solid #ccc",padding:"16px",textAlign:"center"},children:"No items match the current filter."})})})]})})})]})},E=e=>{let{onClick:t}=e;return(0,m.jsx)("button",{onClick:t,style:{marginTop:"1rem",padding:"0.8rem 1.5rem",cursor:"pointer"},children:"+ Add New Item"})},R=e=>{let{isChecked:t,onChange:i}=e;return(0,m.jsxs)("div",{style:{marginLeft:"auto",display:"flex",alignItems:"center"},children:[" ",(0,m.jsx)("label",{htmlFor:"flagToggle",style:{marginRight:"8px",fontWeight:"bold"},children:"Show Flagged Only:"}),(0,m.jsx)("input",{type:"checkbox",id:"flagToggle",checked:t,onChange:e=>i(e.target.checked),style:{width:"20px",height:"20px"}})]})},F=e=>{let{onClose:t}=e;return(0,m.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:100,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,m.jsxs)("div",{style:{background:"white",padding:32,borderRadius:8,minWidth:400},children:[(0,m.jsx)("h3",{children:"Keyboard Shortcuts"}),(0,m.jsxs)("ul",{style:{lineHeight:2},children:[(0,m.jsxs)("li",{children:[(0,m.jsx)("b",{children:"/"})," \u2014 Focus search bar"]}),(0,m.jsxs)("li",{children:[(0,m.jsx)("b",{children:"a"})," \u2014 Add new item"]}),(0,m.jsxs)("li",{children:[(0,m.jsx)("b",{children:"c"})," \u2014 Open columns/settings"]}),(0,m.jsxs)("li",{children:[(0,m.jsx)("b",{children:"f"})," \u2014 Toggle flagged only"]}),(0,m.jsxs)("li",{children:[(0,m.jsx)("b",{children:"1-6"})," \u2014 Switch filter tabs"]}),(0,m.jsxs)("li",{children:[(0,m.jsx)("b",{children:"?"})," \u2014 Show this help"]}),(0,m.jsxs)("li",{children:[(0,m.jsx)("b",{children:"Arrow Up/Down"})," \u2014 Move row selection"]}),(0,m.jsxs)("li",{children:[(0,m.jsx)("b",{children:"Enter/o"})," \u2014 View details for selected row"]}),(0,m.jsxs)("li",{children:[(0,m.jsx)("b",{children:"e"})," \u2014 Edit selected row"]}),(0,m.jsxs)("li",{children:[(0,m.jsx)("b",{children:"r"})," \u2014 Report issue for selected row"]}),(0,m.jsxs)("li",{children:[(0,m.jsx)("b",{children:"l"})," \u2014 Flag/unflag selected row"]}),(0,m.jsxs)("li",{children:[(0,m.jsx)("b",{children:"Esc"})," \u2014 Close any open modal"]})]}),(0,m.jsx)("button",{autoFocus:!0,onClick:t,style:{marginTop:16,padding:"8px 20px"},children:"Close"})]})})},P={apiKey:"AIzaSyCC6x0MS2KOTIZtZUYh59KdsBos1fasNtA",authDomain:"hubalm.firebaseapp.com",projectId:"hubalm",storageBucket:"hubalm.firebasestorage.app",messagingSenderId:"201098929511",appId:"1:201098929511:web:a257c60dd4d6b4d2ab7bc2"};Object.entries(P).forEach((e=>{let[t,i]=e;if(!i)throw new Error(`Missing Firebase config value for ${t}. Did you set your .env file?`)}));const T=(0,s.Wp)(P),O=((0,l.xI)(T),(0,n.aU)(T)),L=e=>{let{user:t,org:i,permissions:s,logAction:l}=e;console.log("ToolApp Props Received:",{user:t,orgId:null===i||void 0===i?void 0:i.id,permissions:s,logActionExists:!!l});const[o,a]=(0,r.useState)(-1),[j,C]=(0,r.useState)(!1),[k,w]=(0,r.useState)([]),[P,T]=(0,r.useState)(!0),[L,U]=(0,r.useState)(null),[$,B]=(0,r.useState)(""),[q,W]=(0,r.useState)("Pending Delivery"),[V,_]=(0,r.useState)(null),[z,H]=(0,r.useState)(!1),[M,G]=(0,r.useState)(!1),[K,Y]=(0,r.useState)(null),[J,Q]=(0,r.useState)(null),[Z,X]=(0,r.useState)(null),[ee,te]=(0,r.useState)(null),[ie,se]=(0,r.useState)(!1),[le,ne]=(0,r.useState)((()=>{try{const e=localStorage.getItem(A),t=e?JSON.parse(e):D;return Array.isArray(t)?t:D}catch(L){return console.error("Error reading visible columns from localStorage",L),D}}));(0,r.useEffect)((()=>{try{localStorage.setItem(A,JSON.stringify(le))}catch(L){console.error("Error saving visible columns to localStorage",L)}}),[le]);const re=le.map((e=>I.find((t=>t.id===e)))).filter((e=>void 0!==e)),oe=k.filter((e=>{const t=!$||e.deliveryName.toLowerCase().includes($.toLowerCase())||e.productName.toLowerCase().includes($.toLowerCase());let i=!1;i="All"===q||("Late"===q?f(e):e.currentStatus===q);const s=!M||!0===e.isFlagged;return i&&t&&s}));(0,r.useEffect)((()=>{a((e=>0===oe.length?-1:e<0?0:e>=oe.length?oe.length-1:e))}),[oe]),(0,r.useEffect)((()=>{if(null===i||void 0===i||!i.id)return;T(!0),U(null);const e=(0,n.P)((0,n.rJ)(O,"orgs",i.id,"stockItems"),(0,n.My)("orderDate","desc")),t=(0,n.aQ)(e,(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));w(t),T(!1)}),(e=>{U("Failed to load items: "+e.message),T(!1)}));return()=>t()}),[null===i||void 0===i?void 0:i.id]);const de=(0,r.useCallback)((async(e,t,s,r)=>{if(!O||null===i||void 0===i||!i.id||!t)return console.error("Cannot update item: Missing configuration.",{db:!!O,orgId:null===i||void 0===i?void 0:i.id,userId:t}),void U("Cannot update item: Missing configuration.");const o=(0,n.H9)(O,"orgs",i.id,"stockItems",e),d=k.find((t=>t.id===e));if(!d)return console.error(`Item ${e} not found for update`),void U(`Item ${e} not found.`);const a=v({...s,activityLog:[...d.activityLog||[],r],lastUpdated:(0,n.O5)()}),c={...d,...a};try{await(0,n.mZ)(o,a),console.log(`Item ${e} updated successfully.`),console.log("updateItemAndLog: Attempting to log action. logAction available?",!!l),l&&await l({orgId:i.id,toolKey:"incomingtool",action:r.type,entityPath:`stockItems/${e}`,before:d,after:c,details:r.details})}catch(u){throw console.error(`Error updating item ${e}:`,u),U(`Failed to update item: ${u.message}`),u}}),[i,k,l]),ae=(0,r.useCallback)((async(e,i)=>{console.log(`Action: ${i} on item ${e}`);const s=k.find((t=>t.id===e));if(s)switch(i){case"Edit Item":Y(s),H(!0);break;case"Flag Item":case"Unflag Item":const l="Flag Item"===i;await de(e,null===t||void 0===t?void 0:t.uid,{isFlagged:l},S((null===t||void 0===t?void 0:t.uid)||"","FLAG_TOGGLED",{isFlagged:l}));break;case"Mark as Delivered":"Delivered"!==s.currentStatus&&await de(e,null===t||void 0===t?void 0:t.uid,{currentStatus:"Delivered",dateDelivered:(new Date).toISOString()},S((null===t||void 0===t?void 0:t.uid)||"","STATUS_CHANGED",{previousStatus:s.currentStatus,newStatus:"Delivered"}));break;case"Archive":"Archived"!==s.currentStatus&&await de(e,null===t||void 0===t?void 0:t.uid,{currentStatus:"Archived"},S((null===t||void 0===t?void 0:t.uid)||"","STATUS_CHANGED",{previousStatus:s.currentStatus,newStatus:"Archived"}))}}),[null===t||void 0===t?void 0:t.uid,k,de,Y,H]),ce=(0,r.useCallback)((async e=>{if(!J||null===i||void 0===i||!i.id||!O)return;const s=J.id,r=J.currentStatus,o=S((null===t||void 0===t?void 0:t.uid)||"","ISSUE_REPORTED",{issueDescription:e}),d=S((null===t||void 0===t?void 0:t.uid)||"","STATUS_CHANGED",{previousStatus:r,newStatus:"Issue"});try{var a;const t=(0,n.H9)(O,"orgs",i.id,"stockItems",s);await(0,n.mZ)(t,{currentStatus:"Issue",issueDescription:e,activityLog:[...(null===(a=k.find((e=>e.id===s)))||void 0===a?void 0:a.activityLog)||[],o,d],lastUpdated:(0,n.O5)()});const r=k.find((e=>e.id===s));console.log("handleSaveReportIssue: Attempting to log action. logAction available?",!!l),l&&await l({orgId:i.id,toolKey:"incomingtool",action:"item.reportIssue",entityPath:`stockItems/${s}`,before:r,after:{...r,currentStatus:"Issue",issueDescription:e},details:{issueDescription:e}}),Q(null)}catch(c){U("Failed to report issue: "+c.message)}}),[J,null===i||void 0===i?void 0:i.id,null===t||void 0===t?void 0:t.uid,k,l,Q,U]),ue=(0,r.useCallback)((async e=>{if(Z)try{await de(Z.id,null===t||void 0===t?void 0:t.uid,{},S((null===t||void 0===t?void 0:t.uid)||"","ISSUE_UPDATE_ADDED",{note:e})),X(null)}catch(i){}}),[Z,de,X,null===t||void 0===t?void 0:t.uid]),pe=(0,r.useCallback)((async(e,s)=>{if(!ee||null===i||void 0===i||!i.id||!O)return;const r=ee.id,o=ee.currentStatus;let d="Delivered";"Returned to Supplier"!==e&&"Disposed Of"!==e||(d="Archived");const a=S((null===t||void 0===t?void 0:t.uid)||"","ISSUE_RESOLVED",{resolutionOutcome:e,note:s}),c=S((null===t||void 0===t?void 0:t.uid)||"","STATUS_CHANGED",{previousStatus:o,newStatus:d});try{var u;const t=(0,n.H9)(O,"orgs",i.id,"stockItems",r);await(0,n.mZ)(t,{currentStatus:d,activityLog:[...(null===(u=k.find((e=>e.id===r)))||void 0===u?void 0:u.activityLog)||[],a,c],lastUpdated:(0,n.O5)()});const o=k.find((e=>e.id===r));console.log("handleSaveResolveIssue: Attempting to log action. logAction available?",!!l),l&&await l({orgId:i.id,toolKey:"incomingtool",action:"item.resolveIssue",entityPath:`stockItems/${r}`,before:o,after:{...o,currentStatus:d},details:{resolutionOutcome:e,note:s}}),te(null)}catch(p){U("Failed to resolve issue: "+p.message)}}),[ee,null===i||void 0===i?void 0:i.id,null===t||void 0===t?void 0:t.uid,k,l,te,U]),xe=(0,r.useCallback)((()=>{H(!1),Y(null)}),[H,Y]),he=(0,r.useCallback)((async e=>{if(console.log("ToolApp: current editingItem at save",K),null===i||void 0===i||!i.id||!O)return console.error("ToolApp: Cannot save item because org.id or db is undefined",i),void U("Cannot save item: No organization selected or database unavailable.");console.log("ToolApp: handleSaveItem called",e);try{if(K&&K.id){const i=K.id,s=Object.keys(e).filter((t=>K.hasOwnProperty(t)&&K[t]!==e[t]));"isFlagged"in e&&!s.includes("isFlagged")&&K.isFlagged!==e.isFlagged&&s.push("isFlagged");const l=S((null===t||void 0===t?void 0:t.uid)||"","EDITED",{changedFields:s.length>0?s:void 0});await de(i,null===t||void 0===t?void 0:t.uid,e,l)}else{const s=S((null===t||void 0===t?void 0:t.uid)||"","CREATED"),r=v({...e,currentStatus:"Pending Delivery",activityLog:[s],lastUpdated:(0,n.O5)()}),o=await(0,n.gS)((0,n.rJ)(O,"orgs",i.id,"stockItems"),r);console.log("handleSaveItem: Attempting to log action. logAction available?",!!l),l&&await l({orgId:i.id,toolKey:"incomingtool",action:"item.create",entityPath:`stockItems/${o.id}`,after:r})}xe()}catch(s){console.error("Failed to save item",s),U("Failed to save item: "+s.message)}}),[K,i,t,l,de,xe,U]),ge=(0,r.useCallback)((()=>{_(null)}),[_]),me=(0,r.useRef)(void 0);(0,r.useEffect)((()=>{me.current=null===i||void 0===i?void 0:i.id}),[i]);const ve=(0,r.useCallback)((()=>{me.current?(Y(null),H(!0)):U("Cannot add item: Organization ID is missing.")}),[H,Y,U]),ye=(0,r.useRef)(null);return(0,r.useEffect)((()=>{const e=e=>{var t;const i=e.target,s=i.tagName;if("INPUT"===s||"TEXTAREA"===s||i.isContentEditable)return;if(z||ie||V||J||Z||ee||j)"Escape"===e.key&&(z&&H(!1),ie&&se(!1),V&&_(null),J&&Q(null),Z&&X(null),ee&&te(null),j&&C(!1));else{if(e.key>="1"&&e.key<="6"){const t=["All","Pending Delivery","Delivered","Issue","Late","Archived"],i=parseInt(e.key,10)-1;if(i>=0&&i<t.length)return W(t[i]),void e.preventDefault()}if("?"===e.key)return C(!0),void e.preventDefault();if(oe.length>0){if("ArrowDown"===e.key)return a((e=>Math.min(oe.length-1,e<0?0:e+1))),void e.preventDefault();if("ArrowUp"===e.key)return a((e=>Math.max(0,e-1))),void e.preventDefault();if(("Enter"===e.key||"o"===e.key)&&o>=0&&o<oe.length)return _(oe[o]),void e.preventDefault();if("e"===e.key&&o>=0&&o<oe.length){const t=oe[o];return Y(t),H(!0),void e.preventDefault()}if("r"===e.key&&o>=0&&o<oe.length)return Q(oe[o]),void e.preventDefault();if("l"===e.key&&o>=0&&o<oe.length){const t=oe[o];return ae(t.id,t.isFlagged?"Unflag Item":"Flag Item"),void e.preventDefault()}}switch(e.key){case"/":e.preventDefault(),null===(t=ye.current)||void 0===t||t.focus();break;case"a":case"A":K||ve();break;case"c":case"C":se(!0)}}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[z,ie,V,J,Z,ee,j,oe,o,K,ae,W,ve]),(0,m.jsxs)("div",{style:{padding:24},children:[" ",(0,m.jsx)("h2",{children:"Incoming Stock Tool"}),L&&(0,m.jsxs)("div",{style:{color:"red",marginBottom:"1rem"},children:["Error: ",L]}),P&&(0,m.jsx)("div",{style:{color:"blue",marginBottom:"1rem"},children:"Loading items..."}),(0,m.jsx)(E,{onClick:ve}),(0,m.jsx)(y,{onSearch:e=>{B(e)},inputRef:ye}),(0,m.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"1rem"},children:[(0,m.jsx)(b,{currentFilter:q,onFilterChange:e=>{W(e)}}),(0,m.jsx)(R,{isChecked:M,onChange:G}),(0,m.jsx)("button",{onClick:()=>se(!0),style:{marginLeft:"auto",padding:"5px 10px"},title:"Configure Table Columns",children:"\u2699\ufe0f Columns"})]}),(0,m.jsx)(N,{items:oe,visibleColumns:re,onActionSelected:ae,onViewDetails:e=>{const t=k.find((t=>t.id===e));t&&_(t)},onColumnReorder:e=>{const{active:t,over:i}=e;i&&t.id!==i.id&&ne((e=>{const s=e.indexOf(t.id),l=e.indexOf(i.id);return(0,d.be)(e,s,l)}))},selectedRowIndex:o}),z&&(0,m.jsxs)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:20},children:[" ",(0,m.jsx)(c.A,{onSave:he,onClose:xe,initialData:K})]}),V&&(0,m.jsx)(u.A,{item:V,onClose:ge}),J&&(0,m.jsx)(p.A,{item:J,onSubmit:ce,onClose:()=>Q(null)}),Z&&(0,m.jsx)(x.A,{item:Z,onSubmit:ue,onClose:()=>X(null)}),ee&&(0,m.jsx)(h.A,{item:ee,onSubmit:pe,onClose:()=>te(null)}),(0,m.jsx)(g.A,{isOpen:ie,onClose:()=>se(!1),allColumns:I,initialVisibleColumns:re,onSave:e=>{ne((t=>{const i=new Set(e);return[...t.filter((e=>i.has(e))),...e.filter((e=>!t.includes(e)))]})),se(!1)}}),j&&(0,m.jsx)(F,{onClose:()=>C(!1)})]})}},5982:(e,t,i)=>{i.d(t,{A:()=>n});var s=i(8613),l=i(579);const n=e=>{let{item:t,onSubmit:i,onClose:n}=e;const[r,o]=(0,s.useState)(""),[d,a]=(0,s.useState)("");return(0,l.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50},onClick:n,children:(0,l.jsxs)("div",{style:{backgroundColor:"white",padding:"20px 30px",borderRadius:"8px",border:"1px solid #ccc",maxWidth:"500px",width:"90%",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("h3",{children:"Report Issue for:"}),(0,l.jsxs)("p",{style:{margin:"5px 0 15px 0",fontStyle:"italic"},children:[t.productName," - ",t.deliveryName]}),(0,l.jsx)("label",{htmlFor:"issueDescription",style:{fontWeight:"bold"},children:"Describe the Issue:"}),(0,l.jsx)("textarea",{id:"issueDescription",value:r,onChange:e=>{o(e.target.value),d&&a("")},style:{width:"calc(100% - 16px)",padding:"8px",minHeight:"80px",marginTop:"5px"},rows:4}),d&&(0,l.jsx)("div",{style:{color:"red",fontSize:"0.8em",marginTop:"4px"},children:d}),(0,l.jsxs)("div",{style:{marginTop:"20px",textAlign:"right"},children:[(0,l.jsx)("button",{type:"button",onClick:n,style:{marginRight:"10px",padding:"8px 15px"},children:"Cancel"}),(0,l.jsx)("button",{type:"button",onClick:()=>{r.trim()?i(r):a("Please enter a description of the issue.")},style:{padding:"8px 15px",fontWeight:"bold"},children:"Save Issue Report"})]})]})})}},7694:(e,t,i)=>{i.d(t,{A:()=>n});var s=i(8613),l=i(579);const n=e=>{let{isOpen:t,onClose:i,allColumns:n,initialVisibleColumns:r,onSave:o}=e;const[d,a]=(0,s.useState)((()=>Object.fromEntries(n.map((e=>[e.id,!1])))));(0,s.useEffect)((()=>{if(t){const e=new Set(r.map((e=>e.id))),t=Object.fromEntries(n.map((t=>[t.id,e.has(t.id)])));a(t)}}),[t,r,n]);if(!t)return null;const c={padding:"8px 12px",display:"flex",alignItems:"center"},u={marginLeft:"10px",cursor:"pointer"};return(0,l.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:60},onClick:i,children:(0,l.jsxs)("div",{style:{backgroundColor:"white",padding:"20px 30px",borderRadius:"8px",border:"1px solid #ccc",width:"400px",maxWidth:"90%",maxHeight:"80vh",display:"flex",flexDirection:"column",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("h3",{children:"Configure Table Columns"}),(0,l.jsx)("p",{children:"Select the columns you want to display:"}),(0,l.jsx)("div",{style:{flexGrow:1,overflowY:"auto",padding:"10px 0",border:"1px solid #eee",borderRadius:"4px",marginBottom:"15px"},children:n.map((e=>(0,l.jsxs)("div",{style:c,children:[(0,l.jsx)("input",{type:"checkbox",id:`col-checkbox-${e.id}`,checked:d[e.id]||!1,onChange:()=>{return t=e.id,void a((e=>({...e,[t]:!e[t]})));var t},disabled:"actions"===e.id}),(0,l.jsx)("label",{htmlFor:`col-checkbox-${e.id}`,style:u,children:e.label})]},e.id)))}),(0,l.jsxs)("div",{style:{marginTop:"auto",textAlign:"right",borderTop:"1px solid #eee",paddingTop:"15px"},children:[(0,l.jsx)("button",{type:"button",onClick:i,style:{marginRight:"10px",padding:"8px 15px"},children:"Cancel"}),(0,l.jsx)("button",{type:"button",onClick:()=>{const e=n.map((e=>e.id)).filter((e=>d[e]));o(e)},style:{padding:"8px 15px",fontWeight:"bold"},children:"Save Column Settings"})]})]})})}}}]);
//# sourceMappingURL=940.b83e3a44.chunk.js.map